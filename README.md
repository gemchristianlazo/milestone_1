# 🏥 Hospital Patient Management System

A **C++ console-based application** for managing hospital patients, treatment records, and emergency room (ER) queues.  
This project demonstrates the use of **linked lists**, **stacks**, **queues**, and **file persistence** to simulate core hospital operations such as patient admission, treatment tracking, and discharge management.

---

## 📌 Features

- **Patient Management**
  - Add new patients with **auto-generated unique IDs**.
  - Update patient diagnosis and other fields.
  - Delete patients from the system.
  - Search patients by **ID** or **name**.
  - Display all admitted patients in a **tabular format**.
  - Discharge patients with recorded **discharge date** and updated status.

- **Treatment Management**
  - Add treatment records to a patient's **treatment history** (stack-based, LIFO).
  - Undo (pop) the last treatment entry.
  - View full treatment history for any patient.

- **ER Management**
  - Add patients to the **ER queue** with priority levels.
  - Process (dequeue) the next ER patient.
  - Display the current ER queue.

- **Persistence**
  - Patient data and treatment histories are saved to `patients.txt`.
  - ER queue data is saved to `erqueue.txt`.
  - Data is automatically loaded on program startup and saved after changes.

---

## 📂 Project Structure

```
HospitalSystem/
│
├── main.cpp          # All program logic (linked lists, stacks, queues, file I/O)
├── patients.txt      # Patient database (auto-generated by the program)
├── erqueue.txt       # ER queue database (auto-generated by the program)
└── README.md         # This documentation
```

---

## 📖 User Interface (Menus)

### Main Menu
```
===== Hospital Patient System =====
1. Patient Management
2. Treatment Management
3. ER Management
4. Exit
```

### Patient Management
```
1. Add Patient
2. Delete Patient
3. Update Patient Info
4. Display All Patients
5. Search Patient
6. Discharge Patient
7. Back
```

### Treatment Management
```
1. Add Treatment Record
2. Undo Last Treatment
3. View Treatment History
4. Back
```

### ER Management
```
1. Add Patient to ER Queue
2. Process Next ER Patient
3. Display ER Queue
4. Back
```

---

## 📝 Example Usage

### Add Patient
```
Name: John Doe
Age: 45
Gender: Male
Diagnosis: Pneumonia
Admission Date: 2025-09-21
```
**Output:**
```
Patient added with ID: 1
```

### Display Patients
```
ID   Name                 Age  Gender    Diagnosis           Admission   Discharge   Status
1    John Doe             45   Male      Pneumonia           2025-09-21  N/A         Admitted
```

### Discharge Patient
```
Enter Patient ID to discharge: 1
Enter discharge date (e.g., 2025-09-30): 2025-09-25
```
**Output:**
```
Patient John Doe has been discharged.
```

### Treatment History
```
Treatment history for John Doe:
- Diagnosis updated to: Pneumonia
- Prescribed Antibiotics
- Patient discharged on 2025-09-25
```

---

## 📑 File Formats & Persistence

### `patients.txt`
Each patient record is stored using `|` as the primary field separator.  
Immediately after each patient record line, the next line holds the treatment history as a comma-separated list.

**Record layout:**
```
ID|Name|Age|Gender|Diagnosis|AdmissionDate|DischargeDate|Status
treatment1,treatment2,treatment3
```

**Example:**
```
1|John Doe|45|Male|Pneumonia|2025-09-21|2025-09-25|Discharged
Diagnosis updated to: Pneumonia,Prescribed Antibiotics,Patient discharged on 2025-09-25
```

---

### `erqueue.txt`
Each ER queue entry is one line using `|` separators:

```
ER_ID|Name|Priority
```

**Example:**
```
1000|Jane Smith|5
1001|Mark Lee|3
```

---

## 🧾 Field Definitions

| Field Name     | Type          | Description                                      | Example              |
|----------------|--------------|--------------------------------------------------|----------------------|
| `id`           | int          | Unique patient ID (auto-generated)               | `1`                  |
| `name`         | string       | Patient full name                                | `John Doe`           |
| `age`          | int          | Patient age                                      | `45`                 |
| `gender`       | string       | Gender                                           | `Male`               |
| `diagnosis`    | string       | Diagnosis                                        | `Pneumonia`          |
| `admissionDate`| string       | Date admitted                                    | `2025-09-21`         |
| `dischargeDate`| string       | Date discharged or `N/A`                         | `2025-09-25`         |
| `status`       | string       | `"Admitted"` or `"Discharged"`                   | `Discharged`         |
| `treatmentHistory` | stack<string> | Treatment records stored in LIFO order       | See above example    |
| `ER id`        | int          | Unique ER queue ID (separate from patient IDs)   | `1000`               |
| `priority`     | int          | ER priority level (1–5; 5 = highest)             | `5`                  |

---

## ⚙️ Installation & Usage

1. **Clone the repository**
   ```bash
   git clone https://github.com/gemchristianlazo/hospital-patient-system.git
   cd hospital-patient-system
   ```

2. **Compile the program**
   ```bash
   g++ main.cpp -o hospital
   ```

3. **Run the program**
   ```bash
   ./hospital
   ```

> On Windows, run `hospital.exe` after compilation.

---

## 🔧 Implementation Notes

- **Data Structures**
  - `PatientList`: singly linked list
  - `TreatmentHistory`: stack (LIFO)
  - `ERQueue`: queue structure
- **Safe Input Handling** using `getIntInputSafe()`.
- **Persistence** via `patients.txt` and `erqueue.txt`.
- **Edge Cases** handled:
  - Substring matching for names
  - Blocking treatment updates for discharged patients
  - Blocking double-discharge

---

## 🚀 Future Improvements

- Role-based authentication (doctor, nurse, admin).
- Additional fields (contact info, physician, room number).
- Export to CSV/JSON.
- Sorting & advanced filtering.
- GUI version (Qt/GTK or Electron).
- Unit testing & CI.

---

## 👨‍💻 Author

**[gemchristianlazo]**  
_C++ Hospital Patient Management System — for educational use._

---

## 📬 License & Disclaimer

- This project is for **educational purposes only**.  
- Not intended for actual hospital or medical use.  
